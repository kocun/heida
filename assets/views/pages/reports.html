<div class="report-page">
  <div class="row">
    <h1 class="page-header">Reports</h1>
  </div>
  <div class="row">

    <form name="myForm">
      <table id="panel{{state}}" class="table table-bordered">
        <thead>
        <tr>
          <th width="28%">Unit</th>
          <th width="28%">Sub-Unit</th>
          <th width="28%">Indicator</th>
          <th width="16%"></th>
        </tr>
        </thead>
        <tbody>
        <tr>
          <td><select class="form-control" ng-model="filteredDepartment" ng-options="department.name for department in departments track by department.id"
                      ng-change="getSubDepartments(filteredDepartment)">
          </select></td>
          <td><select class="form-control" ng-model="filteredSubDepartment" ng-options="subdepartment.name for subdepartment in subdepartments track by subdepartment.id">
          </select></td>
          <td><select class="form-control" ng-model="filteredIndicator">
            <option ng-repeat="indicator in indicators" value="{{indicator.id}}">{{indicator.name}}</option>
          </select></td>
          <td>
            <button type="button" class="btn btn-primary" ng-click="filter();"
                    ng-disabled="!(filteredIndicator || filteredSubDepartment)">
              Filter
            </button>
            <button type="button" class="btn btn-danger pull-right" ng-click="clearFilter();filteredIndicator = undefined;filteredSubDepartment = undefined;">
              Clear
            </button>
          </td>
        </tr>
        </tbody>
      </table>
    </form>
  </div>
  <div class="row">
    <table class="table table-bordered table-striped">
      <thead>
      <th>Indicator Code</th>
      <th>Indicator Name</th>
      <th>Unit</th>
      <th>Sub-Unit</th>
      <th>Name Of Unit</th>
      <th>Data Type</th>
      <th>Status</th>
      <th colspan="4">Actions</th>
      </thead>
      <tbody>
      <tr ng-repeat="data in datas">
        <td>
          {{data.indicator.code}}</td>
        <td>
          {{data.indicator.name}}
        </td>
        <td>
          {{data.department.name}}
        </td>
        <td>
          {{data.subDepartment.name}}
        </td>
        <td>
          {{data.departmentDesc}}
        </td>
        <td>
          {{data.indicator.valueType}}
        </td>
        <td ng-if="data.answer" class="success">
          Completed
        </td>
        <td ng-if="!data.answer" class="not-success">
          Incomplete
        </td>
        <!--<td>-->
          <!--<div ng-repeat="yearval in data.years">-->
            <!--(<b>{{yearval.year}} :</b>  {{yearval.value}})-->
          <!--</div>-->
        <!--</td>-->
        <td>
          <a ui-sref="dashboard.data_edit({id:data.id})">Edit</a>
        </td>
        <td>
          <a ui-sref="dashboard.report_detail({dataId:data.id, valueType:data.indicator.valueType})">Visualize (Graph/Table)</a>
        </td>
        <td>
          <a ui-sref="dashboard.report_print({dataId:data.id, valueType:data.indicator.valueType})">Print</a>
        </td>
        <td>
          <a ng-click="deleteReport({dataId:data.id})" href="">Delete</a>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</div>
